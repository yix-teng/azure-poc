{
	"name": "Following_MSFT_approach",
	"properties": {
		"content": {
			"query": "CREATE MASTER KEY ENCRYPTION BY PASSWORD='StoragePassword@123';\n\nIF NOT EXISTS (SELECT * FROM sys.external_file_formats WHERE name = 'SynapseParquetFormat') \n\tCREATE EXTERNAL FILE FORMAT [SynapseParquetFormat] \n\tWITH ( FORMAT_TYPE = PARQUET)\nGO\n\nALTER DATABASE SCOPED CREDENTIAL [advworkstgt]\nWITH IDENTITY='SHARED ACCESS SIGNATURE',  \nSECRET = 'sv=2020-08-04&ss=bfqt&srt=sco&sp=rwdlacupx&se=2021-09-14T10:17:21Z&st=2021-09-14T02:17:21Z&spr=https&sig=CnymF5G2q6DPONegY8Arv2GVxGEnbsIagEbNGDEy6MI%3D'\nGO\n\nIF NOT EXISTS (SELECT * FROM sys.external_data_sources WHERE name = 'advworkstgt_ds') \n\tCREATE EXTERNAL DATA SOURCE [advworkstgt_ds] \n\tWITH (\n\t\tLOCATION   = 'abfss://advworkstgt@msftstggrpa.dfs.core.windows.net', \n\t\tCREDENTIAL = advworkstgt\n\t)\nGo\n\nDROP  EXTERNAL TABLE test\n\nCREATE EXTERNAL TABLE test (\n\t[DateKey] int,\n\t[FullDateAlternateKey] date,\n\t[EnglishDayNameOfWeek] varchar(8000),\n\t[SpanishDayNameOfWeek] varchar(8000),\n\t[FrenchDayNameOfWeek] varchar(8000),\n\t[DayNumberOfMonth] int,\n\t[DayNumberOfYear] int,\n\t[WeekNumberOfYear] int,\n\t[EnglishMonthName] varchar(8000),\n\t[SpanishMonthName] varchar(8000),\n\t[FrenchMonthName] varchar(8000),\n\t[MonthNumberOfYear] int,\n\t[CalendarQuarter] int,\n\t[CalendarYear] int,\n\t[CalendarSemester] int,\n\t[FiscalQuarter] int,\n\t[FiscalYear] int,\n\t[FiscalSemester] int,\n\t[DayNumberOfWeek] int\n\t)\n\tWITH (\n\tLOCATION = 'ParquetFiles/DimDate_Partitioned/',\n\tDATA_SOURCE = [advworkstgt_ds],\n\tFILE_FORMAT = [SynapseParquetFormat]\n\t)\nGO\n\nSELECT TOP 100 * FROM test\nGO\n\n",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "ForExternal",
				"poolName": "ForExternal"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}